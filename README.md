# DC-Motor


The main idea:
	The motor used in this project is a DC motor with 18.75: 1 reduction and a quadrature encoder. The motor operates at a maximum voltage of 12V and a maximum secondary shaft speed of 500 rpm (RPM). 
	A two-channel Hall sensor encoder is used to determine the engine speed. The Hall sensor detects the presence of a magnetic disk stuck on the main shaft of the motor. The quadrature encoder offers a resolution of 64 pulses per rotation for the main axis. For the secondary axis, multiply the number of pulses by the value of the reduction and reach a shoulder of 1200 pulses per rotation. These values are reached if both output channels of the Hall sensor are used and both the rising and falling fronts are counted. The output of such an encoder is represented by two rectangular signals out of phase with each other by 90 °. With the help of such a sensor, the direction of rotation can also be detected.

The technical concept:
	An Init_Input_Capture () initialization function is created to configure the input capture interrupt (IC) as follows. Initially we need to make sure that the PD6 pin (ICP1) is configured as digital input. Then, using the TCCR1B register
choose the rising edge on the ICP1 pin to interrupt the IC and choose a preset factor of 8 to split the clock signal up to 1 Mhz. This means that each clock pulse of Timer 1 counts 1μs.IC and Overflow interrupts will be activated from the TIMSK register. At each rising edge detected on the ICP1 pin, the value of the TCNT1 count register will be saved in the ICR1 register and the associated ISR function will be called. The timer makes a complete counting cycle in 𝑇𝑐𝑖𝑐𝑙𝑢 = 65535 ∙ 1𝜇𝑠 = 65535𝜇𝑠 = 65.535𝑚𝑠. If the time between two rising fronts is longer than 𝑇𝑐𝑖𝑐𝑙𝑢 the results will be erroneous because you do not know that the timer has been reset. Therefore, the role of the Overflow interrupt is to count the number of reset the counter between two rising fronts on the ICP1 pin. Thus, at each Overflow interrupt the corresponding ISR function will be called automatically and the cycle variable will be incremented. When a new IC interrupt occurs, the cycle variable will be reset.  
